(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{345:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(160),__webpack_require__(32),__webpack_require__(83),__webpack_require__(84);var classCallCheck=__webpack_require__(8),classCallCheck_default=__webpack_require__.n(classCallCheck),possibleConstructorReturn=__webpack_require__(9),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(10),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),assertThisInitialized=__webpack_require__(5),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),inherits=__webpack_require__(11),inherits_default=__webpack_require__.n(inherits),defineProperty=__webpack_require__(4),defineProperty_default=__webpack_require__.n(defineProperty),style=__webpack_require__(13),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),d2_i18n=__webpack_require__(3),d2_i18n_default=__webpack_require__.n(d2_i18n),ItemSelector=__webpack_require__(71),_defaultExport=[".nav-button.jsx-2633868236{padding:5px 13px 3px;border:1px solid #eceff1;text-transform:none;border-radius:0;margin-right:-1px;font-size:0.875rem;font-weight:500;line-height:1.75;font-family:Roboto,sans-serif;background-color:transparent;}",".nav-button.jsx-2633868236:first-child{border-radius:2px 0 0 2px;}",".nav-button.jsx-2633868236:last-child{border-radius:0 2px 2px 0;}",".nav-button.jsx-2633868236:hover{cursor:pointer;background-color:rgba(0,0,0,0.08);}",".nav-button.jsx-2633868236:focus{outline:none;}",".nav-button.active.jsx-2633868236,.nav-button.active.jsx-2633868236:hover{background-color:#00796b;color:#fff;}"];_defaultExport.__hash="2633868236";var PeriodTypeButton_style=_defaultExport,PeriodTypeButton_PeriodTypeButton=function(_Component){function PeriodTypeButton(){var _getPrototypeOf2,_this;classCallCheck_default()(this,PeriodTypeButton);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(PeriodTypeButton)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"handleClick",function(){_this.props.onClick(_this.props.periodType)}),defineProperty_default()(assertThisInitialized_default()(_this),"render",function(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("button",{onClick:_this.handleClick,className:"jsx-".concat(PeriodTypeButton_style.__hash)+" "+"nav-button ".concat(_this.props.periodType===_this.props.activePeriodType?"active":"")},_this.props.text),react_default.a.createElement(style_default.a,{id:PeriodTypeButton_style.__hash},PeriodTypeButton_style))}),_this}return inherits_default()(PeriodTypeButton,_Component),PeriodTypeButton}(react.Component);PeriodTypeButton_PeriodTypeButton.propTypes={activePeriodType:prop_types_default.a.string.isRequired,periodType:prop_types_default.a.string.isRequired,text:prop_types_default.a.string.isRequired,onClick:prop_types_default.a.func.isRequired};var PeriodSelector_PeriodTypeButton=PeriodTypeButton_PeriodTypeButton;PeriodTypeButton_PeriodTypeButton.__docgenInfo={description:"",methods:[{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PeriodTypeButton",props:{activePeriodType:{type:{name:"string"},required:!0,description:""},periodType:{type:{name:"string"},required:!0,description:""},text:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/PeriodTypeButton.js"]={name:"PeriodTypeButton",docgenInfo:PeriodTypeButton_PeriodTypeButton.__docgenInfo,path:"src/components/PeriodSelector/PeriodTypeButton.js"});var objectSpread=__webpack_require__(135),objectSpread_default=__webpack_require__.n(objectSpread),toConsumableArray=(__webpack_require__(44),__webpack_require__(45),__webpack_require__(38),__webpack_require__(36)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),createClass=__webpack_require__(16),createClass_default=__webpack_require__.n(createClass),InputLabel=__webpack_require__(342),InputLabel_default=__webpack_require__.n(InputLabel),styles=__webpack_require__(343),InputLabel_InputLabel=function(_ref){var classes=_ref.classes,label=_ref.label;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(InputLabel_default.a,{className:classes.inputLabel,htmlFor:"period-type"},label))};InputLabel_InputLabel.propTypes={label:prop_types_default.a.string.isRequired,classes:prop_types_default.a.object};var PeriodSelector_InputLabel=Object(styles.withStyles)({inputLabel:{color:"#595959",whiteSpace:"nowrap"}})(InputLabel_InputLabel);InputLabel_InputLabel.__docgenInfo={description:"",methods:[],displayName:"InputLabel",props:{label:{type:{name:"string"},required:!0,description:""},classes:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/InputLabel.js"]={name:"InputLabel",docgenInfo:InputLabel_InputLabel.__docgenInfo,path:"src/components/PeriodSelector/InputLabel.js"});var Select=__webpack_require__(137),Select_default=__webpack_require__.n(Select),MenuItem=__webpack_require__(70),MenuItem_default=__webpack_require__.n(MenuItem),Menu=__webpack_require__(344),Menu_default=__webpack_require__.n(Menu),FormControl=__webpack_require__(136),FormControl_default=__webpack_require__.n(FormControl),KeyboardArrowDown=__webpack_require__(340),KeyboardArrowDown_default=__webpack_require__.n(KeyboardArrowDown),KeyboardArrowUp=__webpack_require__(339),KeyboardArrowUp_default=__webpack_require__.n(KeyboardArrowUp),slicedToArray=__webpack_require__(341),slicedToArray_default=__webpack_require__.n(slicedToArray),PeriodTypeFilter=(__webpack_require__(158),function(_ref){var options=_ref.options,onChange=_ref.onChange,value=_ref.value;return react_default.a.createElement(FormControl_default.a,null,react_default.a.createElement(PeriodSelector_InputLabel,{label:d2_i18n_default.a.t("Period type")}),react_default.a.createElement(Select_default.a,{onChange:onChange,value:value,inputProps:{name:"periodType",id:"period-type"},disableUnderline:!0},Object.entries(options).map(function(_ref2){var _ref3=slicedToArray_default()(_ref2,2),key=_ref3[0],val=_ref3[1];return react_default.a.createElement(MenuItem_default.a,{value:key,key:key},val.name())})))});PeriodTypeFilter.displayName="PeriodTypeFilter",PeriodTypeFilter.propTypes={options:prop_types_default.a.object.isRequired,value:prop_types_default.a.string,onChange:prop_types_default.a.func};var PeriodSelector_PeriodTypeFilter=PeriodTypeFilter;PeriodTypeFilter.__docgenInfo={description:"",methods:[],displayName:"PeriodTypeFilter",props:{options:{type:{name:"object"},required:!0,description:""},value:{type:{name:"string"},required:!1,description:""},onChange:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/PeriodTypeFilter.js"]={name:"PeriodTypeFilter",docgenInfo:PeriodTypeFilter.__docgenInfo,path:"src/components/PeriodSelector/PeriodTypeFilter.js"});__webpack_require__(224),__webpack_require__(252);var MONTHLY="Monthly",getMonthName=function(key){return[d2_i18n_default.a.t("January"),d2_i18n_default.a.t("February"),d2_i18n_default.a.t("March"),d2_i18n_default.a.t("April"),d2_i18n_default.a.t("May"),d2_i18n_default.a.t("June"),d2_i18n_default.a.t("July"),d2_i18n_default.a.t("August"),d2_i18n_default.a.t("September"),d2_i18n_default.a.t("October"),d2_i18n_default.a.t("November"),d2_i18n_default.a.t("December")][key]};function DailyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("01 Jan ".concat(year)),_loop=function(){var period={};period.startDate=formatYyyyMmDd(date),period.endDate=period.startDate,period.name=function(){return period.startDate},period.iso=period.startDate.replace(/-/g,""),period.id=period.iso,periods.push(period),date.setDate(date.getDate()+1)};date.getFullYear()===year;)_loop();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods.reverse():periods}}function WeeklyPeriodType(formatYyyyMmDd,weekObj,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=function(year,startDayOfWeek){var jan4=new Date(year,0,4),jan4DayOfWeek=jan4.getDay(),startDate=jan4,dayDiff=jan4DayOfWeek-startDayOfWeek;return 0<dayDiff?startDate.setDate(jan4.getDate()-dayDiff):0>dayDiff&&(startDate.setDate(jan4.getDate()-dayDiff),startDate.setDate(startDate.getDate()-7)),startDate}(year,weekObj.startDay),week=1,_loop2=function(){var period={};period.startDate=formatYyyyMmDd(date),period.iso="".concat(year).concat(weekObj.shortName,"W").concat(week),period.id=period.iso,date.setDate(date.getDate()+6),period.endDate=formatYyyyMmDd(date);var weekNumber=week;return period.name=function(){return"".concat(d2_i18n_default.a.t("Week {{weekNumber}}",{weekNumber:weekNumber})," - ").concat(period.startDate," - ").concat(period.endDate)},date.getFullYear()>year&&4<=date.getDate()?"break":(periods.push(period),date.setDate(date.getDate()+1),void(week+=1))};date.getFullYear()<=year&&"break"!==_loop2(););return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods.reverse():periods}}function BiWeeklyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("01 Jan ".concat(year)),day=date.getDay(),biWeek=1;4>=day?date.setDate(date.getDate()-(day-1)):date.setDate(date.getDate()+(8-day));for(var _loop3=function(){var period={};period.iso="".concat(year,"BiW").concat(biWeek),period.id=period.iso,period.startDate=formatYyyyMmDd(date),date.setDate(date.getDate()+13),period.endDate=formatYyyyMmDd(date);var biWeekNumber=biWeek;return period.name=function(){return"".concat(d2_i18n_default.a.t("Bi-Week {{biWeekNumber}}",{biWeekNumber:biWeekNumber})," - ").concat(period.startDate," - ").concat(period.endDate)},date.getFullYear()>year&&4<=date.getDate()?"break":(periods.push(period),date.setDate(date.getDate()+1),void(biWeek+=1))};date.getFullYear()<=year&&"break"!==_loop3(););return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods.reverse():periods}}function MonthlyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Dec ".concat(year)),_loop4=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setDate(1),period.startDate=formatYyyyMmDd(date);var monthName=getMonthName(date.getMonth());period.name=function(){return"".concat(monthName," ").concat(year)},period.iso=function(date){var y=date.getFullYear(),m=date.getMonth()+1+"";return y+(m=2>m.length?"0".concat(m):m)}(date),period.id=period.iso,periods.push(period),date.setDate(0)};date.getFullYear()===year;)_loop4();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function BiMonthlyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Dec ".concat(year)),index=6,_loop5=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setDate(0),date.setDate(1),period.startDate=formatYyyyMmDd(date);var monthStart=getMonthName(date.getMonth()),monthEnd=getMonthName(date.getMonth()+1),fullYear=date.getFullYear();period.name=function(){return"".concat(monthStart," - ").concat(monthEnd," ").concat(fullYear)},period.iso="".concat(year,"0").concat(index,"B"),period.id=period.iso,periods.push(period),date.setDate(0),index--};date.getFullYear()===year;)_loop5();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function QuarterlyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Dec ".concat(year)),quarter=4,_loop6=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setDate(0),date.setDate(0),date.setDate(1),period.startDate=formatYyyyMmDd(date);var monthStart=getMonthName(date.getMonth()),monthEnd=getMonthName(date.getMonth()+2),fullYear=date.getFullYear();period.name=function(){return"".concat(monthStart," - ").concat(monthEnd," ").concat(fullYear)},period.iso="".concat(year,"Q").concat(quarter),period.id=period.iso,periods.push(period),date.setDate(0),quarter-=1};date.getFullYear()===year;)_loop6();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function SixMonthlyPeriodType(fnFilter){this.generatePeriods=function(config){var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,period={};return period.startDate="".concat(year,"-01-01"),period.endDate="".concat(year,"-06-30"),period.name=function(){return"".concat(getMonthName(0)," - ").concat(getMonthName(5)," ").concat(year)},period.iso="".concat(year,"S1"),period.id=period.iso,periods.push(period),(period={}).startDate="".concat(year,"-07-01"),period.endDate="".concat(year,"-12-31"),period.name=function(){return"".concat(getMonthName(6)," - ").concat(getMonthName(11)," ").concat(year)},period.iso="".concat(year,"S2"),period.id=period.iso,periods.push(period),periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods.reverse():periods}}function SixMonthlyAprilPeriodType(fnFilter){this.generatePeriods=function(config){var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,period={};return period.startDate="".concat(year,"-04-01"),period.endDate="".concat(year,"-09-30"),period.name=function(){return"".concat(getMonthName(3)," - ").concat(getMonthName(8)," ").concat(year)},period.iso="".concat(year,"AprilS1"),period.id=period.iso,periods.push(period),(period={}).startDate="".concat(year,"-10-01"),period.endDate="".concat(year+1,"-03-31"),period.name=function(){return"".concat(getMonthName(9)," ").concat(year," - ").concat(getMonthName(2)," ").concat(year+1)},period.iso="".concat(year,"AprilS2"),period.id=period.iso,periods.push(period),periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods.reverse():periods}}function YearlyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Dec ".concat(year)),_loop7=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setMonth(0,1),period.startDate=formatYyyyMmDd(date);var dateString=date.getFullYear().toString();period.name=function(){return dateString},period.iso=date.getFullYear().toString(),period.id=period.iso.toString(),periods.push(period),date.setDate(0)};10>year-date.getFullYear();)_loop7();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function FinancialOctoberPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("30 Sep ".concat(year+1)),_loop8=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setYear(date.getFullYear()-1),date.setDate(date.getDate()+1),period.startDate=formatYyyyMmDd(date);var yearStart=date.getFullYear(),yearEnd=date.getFullYear()+1;period.name=function(){return"".concat(getMonthName(9)," ").concat(yearStart," - ").concat(getMonthName(8)," ").concat(yearEnd)},period.id="".concat(date.getFullYear(),"Oct"),periods.push(period),date.setDate(date.getDate()-1)},i=0;10>i;i++)_loop8();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function FinancialNovemberPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Oct ".concat(year+1)),_loop9=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setYear(date.getFullYear()-1),date.setDate(date.getDate()+1),period.startDate=formatYyyyMmDd(date);var yearStart=date.getFullYear(),yearEnd=date.getFullYear()+1;period.name=function(){return"".concat(getMonthName(10)," ").concat(yearStart," - ").concat(getMonthName(9)," ").concat(yearEnd)},period.id="".concat(date.getFullYear(),"Nov"),periods.push(period),date.setDate(date.getDate()-1)},i=0;10>i;i++)_loop9();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function FinancialJulyPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("30 Jun ".concat(year+1)),_loop10=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setYear(date.getFullYear()-1),date.setDate(date.getDate()+1),period.startDate=formatYyyyMmDd(date);var yearStart=date.getFullYear(),yearEnd=date.getFullYear()+1;period.name=function(){return"".concat(getMonthName(6)," ").concat(yearStart," - ").concat(getMonthName(5)," ").concat(yearEnd)},period.id="".concat(date.getFullYear(),"July"),periods.push(period),date.setDate(date.getDate()-1)},i=0;10>i;i++)_loop10();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}function FinancialAprilPeriodType(formatYyyyMmDd,fnFilter){this.generatePeriods=function(config){for(var periods=[],offset=parseInt(config.offset,10),isFilter=config.filterFuturePeriods,isReverse=config.reversePeriods,year=new Date(Date.now()).getFullYear()+offset,date=new Date("31 Mar ".concat(year+1)),_loop11=function(){var period={};period.endDate=formatYyyyMmDd(date),date.setYear(date.getFullYear()-1),date.setDate(date.getDate()+1),period.startDate=formatYyyyMmDd(date);var yearStart=date.getFullYear(),yearEnd=date.getFullYear()+1;period.name=function(){return"".concat(getMonthName(3)," ").concat(yearStart," - ").concat(getMonthName(2)," ").concat(yearEnd)},period.id="".concat(date.getFullYear(),"April"),periods.push(period),date.setDate(date.getDate()-1)},i=0;10>i;i++)_loop11();return periods=isFilter?fnFilter(periods):periods,periods=isReverse?periods:periods.reverse()}}var FixedPeriodsGenerator=function PeriodType(){var formatYyyyMmDd=function(date){var y=date.getFullYear(),m=date.getMonth()+1+"",d=date.getDate()+"";return m=2>m.length?"0".concat(m):m,d=2>d.length?"0".concat(d):d,"".concat(y,"-").concat(m,"-").concat(d)},filterFuturePeriods=function(periods){for(var array=[],now=new Date(Date.now()),i=0;i<periods.length;i++)new Date(periods[i].startDate)<=now&&array.push(periods[i]);return array},periodTypes={};periodTypes.Daily={generator:new DailyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Daily")}},periodTypes.Weekly={generator:new WeeklyPeriodType(formatYyyyMmDd,{shortName:"",startDay:1},filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Weekly")}},periodTypes["Bi-weekly"]={generator:new BiWeeklyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Bi-weekly")}},periodTypes["Weekly (Start Wednesday)"]={generator:new WeeklyPeriodType(formatYyyyMmDd,{shortName:"Wed",startDay:3},filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Weekly (Start Wednesday)")}},periodTypes["Weekly (Start Thursday)"]={generator:new WeeklyPeriodType(formatYyyyMmDd,{shortName:"Thu",startDay:4},filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Weekly (Start Thursday)")}},periodTypes["Weekly (Start Saturday)"]={generator:new WeeklyPeriodType(formatYyyyMmDd,{shortName:"Sat",startDay:6},filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Weekly (Start Saturday)")}},periodTypes["Weekly (Start Sunday)"]={generator:new WeeklyPeriodType(formatYyyyMmDd,{shortName:"Sun",startDay:7},filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Weekly (Start Sunday)")}},periodTypes[MONTHLY]={generator:new MonthlyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Monthly")}},periodTypes["Bi-monthly"]={generator:new BiMonthlyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Bi-monthly")}},periodTypes.Quarterly={generator:new QuarterlyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Quarterly")}},periodTypes["Six-monthly"]={generator:new SixMonthlyPeriodType(filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Six-monthly")}},periodTypes["Six-monthly April"]={generator:new SixMonthlyAprilPeriodType(filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Six-monthly April")}},periodTypes.Yearly={generator:new YearlyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Yearly")}},periodTypes["Financial year (Start November)"]={generator:new FinancialNovemberPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Financial year (Start November)")}},periodTypes["Financial year (Start October)"]={generator:new FinancialOctoberPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Financial year (Start October)")}},periodTypes["Financial year (Start July)"]={generator:new FinancialJulyPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Financial year (Start July)")}},periodTypes["Financial year (Start April)"]={generator:new FinancialAprilPeriodType(formatYyyyMmDd,filterFuturePeriods),name:function name(){return d2_i18n_default.a.t("Financial year (Start April)")}},this.getOptions=function(){return periodTypes},this.get=function(key){return periodTypes[key].generator}},defaultState={periodType:MONTHLY,year:(new Date).getFullYear(),yearsOffset:0,yearSelectElement:null},YEARS_RANGE=8,FixedPeriodFilter_ref=react_default.a.createElement(KeyboardArrowUp_default.a,null),FixedPeriodFilter_ref2=react_default.a.createElement(KeyboardArrowDown_default.a,null),FixedPeriodFilter_FixedPeriodFilter=function(_Component){function FixedPeriodFilter(props){var _this;return classCallCheck_default()(this,FixedPeriodFilter),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(FixedPeriodFilter).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",function(){var periods=_this.generatePeriods(_this.state.periodType,_this.state.year);_this.props.setOfferedPeriods(periods,!0)}),defineProperty_default()(assertThisInitialized_default()(_this),"onPeriodTypeChange",function(event){_this.setState({periodType:event.target.value}),_this.state.year&&_this.props.setOfferedPeriods(_this.generatePeriods(event.target.value,_this.state.year))}),defineProperty_default()(assertThisInitialized_default()(_this),"onYearChange",function(event){_this.setState({year:event.target.value,yearSelectElement:null}),_this.state.periodType&&_this.props.setOfferedPeriods(_this.generatePeriods(_this.state.periodType,event.target.value))}),defineProperty_default()(assertThisInitialized_default()(_this),"onYearSelectClick",function(event){_this.setState({yearSelectElement:event.currentTarget})}),defineProperty_default()(assertThisInitialized_default()(_this),"getYears",function(){var years=[];return years=(years=years.concat(toConsumableArray_default()([,,,,,].keys()).slice(1).reverse().map(function(offset){return(new Date).getFullYear()-offset+_this.state.yearsOffset}))).concat(toConsumableArray_default()([,,,,].keys()).map(function(offset){return(new Date).getFullYear()+offset+_this.state.yearsOffset}))}),defineProperty_default()(assertThisInitialized_default()(_this),"generatePeriods",function(periodType,year){return _this.periodsGenerator.get(periodType).generatePeriods({offset:year-(new Date).getFullYear(),filterFuturePeriods:!1,reversePeriods:!1}).map(function(period,idx){return objectSpread_default()({},period,{idx:idx})})}),defineProperty_default()(assertThisInitialized_default()(_this),"closeYearSelect",function(){_this.setState({yearSelectElement:null})}),defineProperty_default()(assertThisInitialized_default()(_this),"shiftYearsBack",function(){_this.setState({yearsOffset:_this.state.yearsOffset-YEARS_RANGE})}),defineProperty_default()(assertThisInitialized_default()(_this),"shiftYearsForth",function(){_this.setState({yearsOffset:_this.state.yearsOffset+YEARS_RANGE})}),defineProperty_default()(assertThisInitialized_default()(_this),"renderYearSelectValue",function(){return _this.state.year}),_this.periodsGenerator=new FixedPeriodsGenerator,_this.state=defaultState,_this}return inherits_default()(FixedPeriodFilter,_Component),createClass_default()(FixedPeriodFilter,[{key:"render",value:function render(){var _this2=this,years=this.getYears();return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PeriodSelector_PeriodTypeFilter,{options:this.periodsGenerator.getOptions(),value:this.state.periodType,onChange:this.onPeriodTypeChange}),react_default.a.createElement(FormControl_default.a,null,react_default.a.createElement(PeriodSelector_InputLabel,{label:d2_i18n_default.a.t("Year")}),react_default.a.createElement(Select_default.a,{SelectDisplayProps:{style:{cursor:"pointer",color:"#000000"},onClick:this.onYearSelectClick},value:this.state.year,inputProps:{name:"year",id:"year"},renderValue:this.renderYearSelectValue,disableUnderline:!0,disabled:!0}),react_default.a.createElement(Menu_default.a,{MenuListProps:{style:{width:"130px"}},anchorEl:this.state.yearSelectElement,open:!!this.state.yearSelectElement,onClose:this.closeYearSelect},react_default.a.createElement(MenuItem_default.a,{value:"",key:"shiftYearsBack",onClick:this.shiftYearsBack},FixedPeriodFilter_ref),years.map(function(year){return react_default.a.createElement(MenuItem_default.a,{onClick:_this2.onYearChange,key:year,value:year,selected:_this2.state.year===year},year)}),react_default.a.createElement(MenuItem_default.a,{value:"",key:"shiftYearsForth",onClick:this.shiftYearsForth},FixedPeriodFilter_ref2))))}}]),FixedPeriodFilter}(react.Component);FixedPeriodFilter_FixedPeriodFilter.displayName="FixedPeriodFilter",FixedPeriodFilter_FixedPeriodFilter.propTypes={setOfferedPeriods:prop_types_default.a.func.isRequired};var PeriodSelector_FixedPeriodFilter=FixedPeriodFilter_FixedPeriodFilter;FixedPeriodFilter_FixedPeriodFilter.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"onPeriodTypeChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onYearChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onYearSelectClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getYears",docblock:null,modifiers:[],params:[],returns:null},{name:"generatePeriods",docblock:null,modifiers:[],params:[{name:"periodType",type:null},{name:"year",type:null}],returns:null},{name:"closeYearSelect",docblock:null,modifiers:[],params:[],returns:null},{name:"shiftYearsBack",docblock:null,modifiers:[],params:[],returns:null},{name:"shiftYearsForth",docblock:null,modifiers:[],params:[],returns:null},{name:"renderYearSelectValue",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FixedPeriodFilter",props:{setOfferedPeriods:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/FixedPeriodFilter.js"]={name:"FixedPeriodFilter",docgenInfo:FixedPeriodFilter_FixedPeriodFilter.__docgenInfo,path:"src/components/PeriodSelector/FixedPeriodFilter.js"});var DaysPeriodType={generatePeriods:function generatePeriods(){return[{id:"TODAY",name:function name(){return d2_i18n_default.a.t("Today")}},{id:"YESTERDAY",name:function name(){return d2_i18n_default.a.t("Yesterday")}},{id:"LAST_3_DAYS",name:function name(){return d2_i18n_default.a.t("Last 3 days")}},{id:"LAST_7_DAYS",name:function name(){return d2_i18n_default.a.t("Last 7 days")}},{id:"LAST_14_DAYS",name:function name(){return d2_i18n_default.a.t("Last 14 days")}}]}},WeeksPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_WEEK",name:function name(){return d2_i18n_default.a.t("This week")}},{id:"LAST_WEEK",name:function name(){return d2_i18n_default.a.t("Last week")}},{id:"LAST_4_WEEKS",name:function name(){return d2_i18n_default.a.t("Last 4 weeks")}},{id:"LAST_12_WEEKS",name:function name(){return d2_i18n_default.a.t("Last 12 weeks")}},{id:"LAST_52_WEEKS",name:function name(){return d2_i18n_default.a.t("Last 52 weeks")}},{id:"WEEKS_THIS_YEAR",name:function name(){return d2_i18n_default.a.t("Weeks this year")}}]}},BiWeeksPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_BIWEEK",name:function name(){return d2_i18n_default.a.t("This bi-week")}},{id:"LAST_BIWEEK",name:function name(){return d2_i18n_default.a.t("Last bi-week")}},{id:"LAST_4_BIWEEKS",name:function name(){return d2_i18n_default.a.t("Last 4 bi-weeks")}}]}},MonthsPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_MONTH",name:function name(){return d2_i18n_default.a.t("This month")}},{id:"LAST_MONTH",name:function name(){return d2_i18n_default.a.t("Last month")}},{id:"LAST_3_MONTHS",name:function name(){return d2_i18n_default.a.t("Last 3 months")}},{id:"LAST_6_MONTHS",name:function name(){return d2_i18n_default.a.t("Last 6 months")}},{id:"LAST_12_MONTHS",name:function name(){return d2_i18n_default.a.t("Last 12 months")}},{id:"MONTHS_THIS_YEAR",name:function name(){return d2_i18n_default.a.t("Months this year")}}]}},BiMonthsPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_BIMONTH",name:function name(){return d2_i18n_default.a.t("This bi-month")}},{id:"LAST_BIMONTH",name:function name(){return d2_i18n_default.a.t("Last bi-month")}},{id:"LAST_6_BIMONTHS",name:function name(){return d2_i18n_default.a.t("Last 6 bi-months")}},{id:"BIMONTHS_THIS_YEAR",name:function name(){return d2_i18n_default.a.t("Bi-months this year")}}]}},QuartersPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_QUARTER",name:function name(){return d2_i18n_default.a.t("This quarter")}},{id:"LAST_QUARTER",name:function name(){return d2_i18n_default.a.t("Last quarter")}},{id:"LAST_4_QUARTERS",name:function name(){return d2_i18n_default.a.t("Last 4 quarters")}},{id:"QUARTERS_THIS_YEAR",name:function name(){return d2_i18n_default.a.t("Quarters this year")}}]}},SixMonthsPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_SIX_MONTH",name:function name(){return d2_i18n_default.a.t("This six-month")}},{id:"LAST_SIX_MONTH",name:function name(){return d2_i18n_default.a.t("Last six-month")}},{id:"LAST_2_SIXMONTHS",name:function name(){return d2_i18n_default.a.t("Last 2 six-month")}}]}},FinancialYearsPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_FINANCIAL_YEAR",name:function name(){return d2_i18n_default.a.t("This financial year")}},{id:"LAST_FINANCIAL_YEAR",name:function name(){return d2_i18n_default.a.t("Last financial year")}},{id:"LAST_5_FINANCIAL_YEARS",name:function name(){return d2_i18n_default.a.t("Last 5 financial years")}}]}},YearsPeriodType={generatePeriods:function generatePeriods(){return[{id:"THIS_YEAR",name:function name(){return d2_i18n_default.a.t("This year")}},{id:"LAST_YEAR",name:function name(){return d2_i18n_default.a.t("Last year")}},{id:"LAST_5_YEARS",name:function name(){return d2_i18n_default.a.t("Last 5 years")}}]}},RelativePeriodsGenerator_Generator=function Generator(){var _defineProperty2,_this=this;classCallCheck_default()(this,Generator),defineProperty_default()(this,"options",(_defineProperty2={Days:{generator:DaysPeriodType,name:function name(){return d2_i18n_default.a.t("Days")}},Weeks:{generator:WeeksPeriodType,name:function name(){return d2_i18n_default.a.t("Weeks")}},BiWeeks:{generator:BiWeeksPeriodType,name:function name(){return d2_i18n_default.a.t("Bi-weeks")}}},defineProperty_default()(_defineProperty2,"Months",{generator:MonthsPeriodType,name:function name(){return d2_i18n_default.a.t("Months")}}),defineProperty_default()(_defineProperty2,"BiMonths",{generator:BiMonthsPeriodType,name:function name(){return d2_i18n_default.a.t("Bi-months")}}),defineProperty_default()(_defineProperty2,"Quarters",{generator:QuartersPeriodType,name:function name(){return d2_i18n_default.a.t("Quarters")}}),defineProperty_default()(_defineProperty2,"SixMonths",{generator:SixMonthsPeriodType,name:function name(){return d2_i18n_default.a.t("Six-months")}}),defineProperty_default()(_defineProperty2,"FinancialYears",{generator:FinancialYearsPeriodType,name:function name(){return d2_i18n_default.a.t("Financial Years")}}),defineProperty_default()(_defineProperty2,"Years",{generator:YearsPeriodType,name:function name(){return d2_i18n_default.a.t("Years")}}),_defineProperty2)),defineProperty_default()(this,"get",function(key){return _this.options[key].generator}),defineProperty_default()(this,"getOptions",function(){return _this.options})},RelativePeriodFilter_defaultState={periodType:"Months"},RelativePeriodFilter_RelativePeriods=function(_Component){function RelativePeriods(props){var _this;return classCallCheck_default()(this,RelativePeriods),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(RelativePeriods).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",function(){var periods=_this.generatePeriods(_this.state.periodType);_this.props.setOfferedPeriods(periods,!0)}),defineProperty_default()(assertThisInitialized_default()(_this),"onPeriodTypeChange",function(event){_this.setState({periodType:event.target.value}),_this.props.setOfferedPeriods(_this.generatePeriods(event.target.value))}),defineProperty_default()(assertThisInitialized_default()(_this),"generatePeriods",function(periodType){return _this.periodsGenerator.get(periodType).generatePeriods().map(function(period,idx){return objectSpread_default()({},period,{idx:idx})})}),defineProperty_default()(assertThisInitialized_default()(_this),"render",function(){return react_default.a.createElement(PeriodSelector_PeriodTypeFilter,{options:_this.periodsGenerator.getOptions(),value:_this.state.periodType,onChange:_this.onPeriodTypeChange})}),_this.state=RelativePeriodFilter_defaultState,_this.periodsGenerator=new RelativePeriodsGenerator_Generator,_this}return inherits_default()(RelativePeriods,_Component),RelativePeriods}(react.Component);RelativePeriodFilter_RelativePeriods.propTypes={setOfferedPeriods:prop_types_default.a.func.isRequired};var RelativePeriodFilter=RelativePeriodFilter_RelativePeriods;RelativePeriodFilter_RelativePeriods.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"onPeriodTypeChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"generatePeriods",docblock:null,modifiers:[],params:[{name:"periodType",type:null}],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RelativePeriods",props:{setOfferedPeriods:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/RelativePeriodFilter.js"]={name:"RelativePeriods",docgenInfo:RelativePeriodFilter_RelativePeriods.__docgenInfo,path:"src/components/PeriodSelector/RelativePeriodFilter.js"});var FIXED="FIXED",RELATIVE="RELATIVE",PeriodSelector_style_defaultExport=[".options-area.jsx-1845473585{padding:5px 10px 0px 10px;border-bottom:1px solid #e8e8e8;}"];PeriodSelector_style_defaultExport.__hash="1845473585";var PeriodSelector_style=PeriodSelector_style_defaultExport,PeriodSelector_PeriodSelector=function(_Component){function PeriodSelector(props){var _this;return classCallCheck_default()(this,PeriodSelector),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(PeriodSelector).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"state",{offeredPeriods:[],offeredPeriodsInOrder:[],selectedPeriods:[],periodType:RELATIVE}),defineProperty_default()(assertThisInitialized_default()(_this),"onPeriodTypeClick",function(periodType){_this.state.periodType!==periodType&&_this.setState({periodType:periodType})}),defineProperty_default()(assertThisInitialized_default()(_this),"onSelectPeriods",function(periodIds){var offeredPeriods=_this.state.offeredPeriods.filter(function(period){return!periodIds.includes(period.id)}),newPeriods=_this.state.offeredPeriods.filter(function(period){return periodIds.includes(period.id)}).map(function(_ref){return{id:_ref.id,idx:_ref.idx,name:(0,_ref.name)()}}),selectedPeriods=_this.state.selectedPeriods.concat(newPeriods);_this.setState({selectedPeriods:selectedPeriods,offeredPeriods:offeredPeriods}),_this.props.onSelect(selectedPeriods)}),defineProperty_default()(assertThisInitialized_default()(_this),"setSelectedPeriodOrder",function(periodIds){var selectedPeriods=periodIds.map(function(id){return _this.state.selectedPeriods.find(function(period){return period.id===id})});_this.setState({selectedPeriods:selectedPeriods}),_this.props.onReorder(selectedPeriods)}),defineProperty_default()(assertThisInitialized_default()(_this),"onDeselectPeriods",function(periodIds){var selectedPeriods=_this.state.selectedPeriods.filter(function(period){return!periodIds.includes(period.id)}),removedPeriods=_this.state.selectedPeriods.filter(function(period){return periodIds.includes(period.id)}),offeredPeriods=_this.state.offeredPeriodsInOrder.filter(function(period){return!selectedPeriods.map(function(p){return p.id}).includes(period.id)});_this.setState({selectedPeriods:selectedPeriods,offeredPeriods:offeredPeriods}),_this.props.onDeselect(removedPeriods)}),defineProperty_default()(assertThisInitialized_default()(_this),"initializeOfferedPeriods",function(periods){var selectedPeriods=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1]?_this.props.selectedItems:_this.state.selectedPeriods,offeredPeriods=periods.filter(function(period){return!selectedPeriods.map(function(p){return p.id}).includes(period.id)});_this.setState({offeredPeriodsInOrder:periods,offeredPeriods:offeredPeriods})}),defineProperty_default()(assertThisInitialized_default()(_this),"renderPeriodTypeButtons",function(){return react_default.a.createElement("div",null,react_default.a.createElement(PeriodSelector_PeriodTypeButton,{periodType:RELATIVE,activePeriodType:_this.state.periodType,text:d2_i18n_default.a.t("Relative periods"),onClick:_this.onPeriodTypeClick}),react_default.a.createElement(PeriodSelector_PeriodTypeButton,{periodType:FIXED,activePeriodType:_this.state.periodType,text:d2_i18n_default.a.t("Fixed periods"),onClick:_this.onPeriodTypeClick}))}),defineProperty_default()(assertThisInitialized_default()(_this),"render",function(){var Filter,unselected={items:_this.state.offeredPeriods.map(function(_ref2){return{id:_ref2.id,idx:_ref2.idx,name:(0,_ref2.name)()}}),onSelect:_this.onSelectPeriods,filterText:""},selected={items:_this.state.selectedPeriods,onDeselect:_this.onDeselectPeriods,onReorder:_this.setSelectedPeriodOrder};return react_default.a.createElement(react.Fragment,null,_this.renderPeriodTypeButtons(),react_default.a.createElement("div",{style:{display:"flex",marginTop:"18px"}},react_default.a.createElement(ItemSelector.a,{itemClassName:"period-selector",unselected:unselected,selected:selected},(Filter=_this.state.periodType===FIXED?PeriodSelector_FixedPeriodFilter:RelativePeriodFilter,react_default.a.createElement("div",{className:"jsx-".concat(PeriodSelector_style.__hash)+" options-area"},react_default.a.createElement(Filter,{setOfferedPeriods:_this.initializeOfferedPeriods,className:"jsx-".concat(PeriodSelector_style.__hash)}),react_default.a.createElement(style_default.a,{id:PeriodSelector_style.__hash},PeriodSelector_style))))))}),_this.state.selectedPeriods=_this.props.selectedItems,_this}return inherits_default()(PeriodSelector,_Component),PeriodSelector}(react.Component);PeriodSelector_PeriodSelector.propTypes={onDeselect:prop_types_default.a.func.isRequired,onReorder:prop_types_default.a.func.isRequired,onSelect:prop_types_default.a.func.isRequired,selectedItems:prop_types_default.a.arrayOf(prop_types_default.a.object)},PeriodSelector_PeriodSelector.defaultProps={selectedItems:[]};__webpack_exports__.a=PeriodSelector_PeriodSelector;PeriodSelector_PeriodSelector.__docgenInfo={description:"",methods:[{name:"onPeriodTypeClick",docblock:null,modifiers:[],params:[{name:"periodType",type:null}],returns:null},{name:"onSelectPeriods",docblock:null,modifiers:[],params:[{name:"periodIds",type:null}],returns:null},{name:"setSelectedPeriodOrder",docblock:null,modifiers:[],params:[{name:"periodIds",type:null}],returns:null},{name:"onDeselectPeriods",docblock:null,modifiers:[],params:[{name:"periodIds",type:null}],returns:null},{name:"initializeOfferedPeriods",docblock:null,modifiers:[],params:[{name:"periods",type:null},{name:"initial",type:null}],returns:null},{name:"renderPeriodTypeButtons",docblock:null,modifiers:[],params:[],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PeriodSelector",props:{selectedItems:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"object"}},required:!1,description:""},onDeselect:{type:{name:"func"},required:!0,description:""},onReorder:{type:{name:"func"},required:!0,description:""},onSelect:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/PeriodSelector.js"]={name:"PeriodSelector",docgenInfo:PeriodSelector_PeriodSelector.__docgenInfo,path:"src/components/PeriodSelector/PeriodSelector.js"})},346:function(module,exports,__webpack_require__){__webpack_require__(347),__webpack_require__(424),module.exports=__webpack_require__(425)},425:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(44),__webpack_require__(45),__webpack_require__(38);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47),req=(__webpack_require__(484),__webpack_require__(514));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(105)(module))},514:function(module,exports,__webpack_require__){var map={"./ItemSelector.stories.js":515,"./PeriodSelector.stories.js":742};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=514},515:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(248),__webpack_require__(83),__webpack_require__(84),__webpack_require__(159),__webpack_require__(44),__webpack_require__(45),__webpack_require__(38),__webpack_require__(106),__webpack_require__(518);var items,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(36),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(107),__webpack_require__(0)),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(138),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12__),_storybook_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(47),_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(55),_src_components_ItemSelector_ItemSelector__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(71),defaultItems={rarity:{id:"rarity",name:"Rarity"},rainbow:{id:"rainbow",name:"Rainbow Dash"},fluttershy:{id:"fluttershy",name:"Fluttershy is a little yellow horse with pink mane and tail"},pinkie:{id:"pinkie",name:"Pinkie Pie"},applejack:{id:"applejack",name:"Applejack"},spike:{id:"spike",name:"Spike"}},updateStore=function(store,unselectedIds,selectedIds){var selected=Object.assign({},store.get("selected"),{items:selectedIds.map(function(id){return items[id]})}),unselected=Object.assign({},store.get("unselected"),{items:unselectedIds.map(function(id){return items[id]})});store.set({selected:selected,unselected:unselected})},onSelect=function(store){return function(newIds){var selectedIds=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(new Set(store.get("selected").items.map(function(i){return i.id}).concat(newIds))),unselectedIds=Object.keys(items).filter(function(id){return!selectedIds.includes(id)});updateStore(store,unselectedIds,selectedIds)}},onDeselect=function(store){return function(newIds){var unorderedUnselectedIds=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(new Set(newIds.concat(store.get("unselected").items.map(function(i){return i.id})))),unselectedIds=Object.keys(items).filter(function(id){return unorderedUnselectedIds.includes(id)}),selectedIds=Object.keys(items).filter(function(id){return!unselectedIds.includes(id)});updateStore(store,unselectedIds,selectedIds)}},onReorder=function(store){return function(ids){var selected=Object.assign({},store.get("selected"),{items:ids.map(function(id){return items[id]})});store.set({selected:selected})}},defaultState=function(items){return{unselected:{items:Object.values(items),onSelect:Function.prototype},selected:{items:[],onDeselect:Function.prototype,onReorder:Function.prototype}}},_ref=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_src_components_ItemSelector_ItemSelector__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_13__.storiesOf)("ItemSelector",module).add("default",function(){items=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12___default()(defaultItems);var state=defaultState(items),store=new _sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.Store(state);return state.unselected.onSelect=onSelect(store),state.selected.onDeselect=onDeselect(store),state.selected.onReorder=onReorder(store),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.State,{store:store},_ref)});var _ref2=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_src_components_ItemSelector_ItemSelector__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_13__.storiesOf)("ItemSelector",module).add("active/inactive items",function(){(items=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12___default()(defaultItems)).rainbow.isActive=!1,items.pinkie.isActive=!1;var state=defaultState(items),store=new _sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.Store(state);return state.unselected.onSelect=onSelect(store),state.selected.onDeselect=onDeselect(store),state.selected.onReorder=onReorder(store),onSelect(store)([items.applejack.id,items.rainbow.id,items.pinkie.id]),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.State,{store:store},_ref2)});var _ref3=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_src_components_ItemSelector_ItemSelector__WEBPACK_IMPORTED_MODULE_15__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_13__.storiesOf)("ItemSelector",module).add("info box",function(){(items=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_12___default()(defaultItems)).rainbow.isActive=!1;var state=defaultState(items),store=new _sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.Store(state);return state.unselected.onSelect=onSelect(store),state.selected.onDeselect=onDeselect(store),state.selected.onReorder=onReorder(store),state.selected.infoBoxMessage="This is a custom message that can be passed",onSelect(store)([items.applejack.id,items.rainbow.id]),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_sambego_storybook_state__WEBPACK_IMPORTED_MODULE_14__.State,{store:store},_ref3)})}.call(this,__webpack_require__(105)(module))},71:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(8),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(16),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(9),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(10),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(11),inherits_default=__webpack_require__.n(inherits),style=__webpack_require__(13),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__(12),classnames_default=__webpack_require__.n(classnames),assertThisInitialized=(__webpack_require__(32),__webpack_require__(83),__webpack_require__(84),__webpack_require__(5)),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),defineProperty=__webpack_require__(4),defineProperty_default=__webpack_require__.n(defineProperty),d2_i18n=__webpack_require__(3),d2_i18n_default=__webpack_require__.n(d2_i18n),Button=__webpack_require__(132),Button_default=__webpack_require__.n(Button),throttle=__webpack_require__(329),throttle_default=__webpack_require__.n(throttle),objectWithoutProperties=__webpack_require__(7),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),ItemIcon=function(_ref){var backgroundColor=_ref.backgroundColor;return react_default.a.createElement("div",{className:style_default.a.dynamic([["921056640",[backgroundColor]]])},react_default.a.createElement(style_default.a,{id:"921056640",dynamic:[backgroundColor]},["div.__jsx-style-dynamic-selector{background-color:".concat(backgroundColor,";min-height:6px;min-width:6px;margin:0px 5px;}")]))};ItemIcon.displayName="ItemIcon";var widgets_ItemIcon=ItemIcon;ItemIcon.__docgenInfo={description:"",methods:[],displayName:"ItemIcon"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/widgets/ItemIcon.js"]={name:"ItemIcon",docgenInfo:ItemIcon.__docgenInfo,path:"src/components/ItemSelector/widgets/ItemIcon.js"});var colors={accentSecondaryDark:"#004C40",accentSecondary:"#00796B",greyDark:"#494949",grey:"#9E9E9E",greyLight:"#E0E0E0",white:"#FFFFFF"},_defaultExport=[".highlighted-text.jsx-10974763{color:".concat(colors.white,";}"),".item.jsx-10974763{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:3px;}",".unselected-item.jsx-10974763:hover{background-color:#e0e0e0;}",".highlighted-item.jsx-10974763{background-color:".concat(colors.accentSecondaryDark,";}"),".item-label.jsx-10974763{font-size:14px;padding:2px 5px 2px 2px;}"];_defaultExport.__hash="10974763";var UnselectedItem_style=_defaultExport,Item=function(_ref2){var _ref,id,index,onClick,name=_ref2.name,highlighted=_ref2.highlighted,rest=objectWithoutProperties_default()(_ref2,["name","highlighted"]);return react_default.a.createElement("div",{onClick:(_ref=rest,id=_ref.id,index=_ref.index,onClick=_ref.onClick,function(event){return onClick(event.metaKey||event.ctrlKey,event.shiftKey,index,id)}),"data-test":"dimension-item-".concat(rest.id),className:"jsx-".concat(UnselectedItem_style.__hash)+" "+(classnames_default()("item",{"highlighted-item":highlighted,"unselected-item":!highlighted})||"")},react_default.a.createElement(widgets_ItemIcon,{backgroundColor:colors.grey}),react_default.a.createElement("span",{className:"jsx-".concat(UnselectedItem_style.__hash)+" "+(classnames_default()("item-label",{"highlighted-text":highlighted})||"")},name),react_default.a.createElement(style_default.a,{id:UnselectedItem_style.__hash},UnselectedItem_style))};Item.displayName="Item",Item.defualtProps={onClick:function onClick(){return null}},Item.propTypes={id:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,index:prop_types_default.a.number.isRequired,highlighted:prop_types_default.a.bool.isRequired,onClick:prop_types_default.a.func};var UnselectedItem=Item;Item.__docgenInfo={description:"",methods:[],displayName:"Item",props:{id:{type:{name:"string"},required:!0,description:""},name:{type:{name:"string"},required:!0,description:""},index:{type:{name:"number"},required:!0,description:""},highlighted:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/widgets/UnselectedItem.js"]={name:"Item",docgenInfo:Item.__docgenInfo,path:"src/components/ItemSelector/widgets/UnselectedItem.js"});var ArrowForward=__webpack_require__(331),ArrowForward_default=__webpack_require__.n(ArrowForward),ArrowBack=__webpack_require__(332),ArrowBack_default=__webpack_require__.n(ArrowBack),ArrowButton_style_defaultExport=[".arrow-button.jsx-2259338575{background-color:transparent;border:1px solid #d5dde5;border-radius:4px;height:36px;min-height:36px;min-width:40px;padding:0px;width:40px;}",".arrow-button.jsx-2259338575:focus{outline:none;}",".arrow-button.jsx-2259338575:active.jsx-2259338575:focus{background-color:rgba(158,158,158,0.18);}",".arrow-button.jsx-2259338575:hover{cursor:pointer;background-color:rgba(158,158,158,0.07);}",".arrow-icon.jsx-2259338575{fill:".concat(colors.greyDark,", height:20px;width:24px;}")];ArrowButton_style_defaultExport.__hash="2259338575";var ArrowButton_style=ArrowButton_style_defaultExport,ArrowButton_ref2=react_default.a.createElement(ArrowForward_default.a,null),ArrowButton_ref3=react_default.a.createElement(ArrowBack_default.a,null),ArrowButton=function(_ref){var onClick=_ref.onClick,iconType=_ref.iconType;return react_default.a.createElement("button",{onClick:onClick,className:"jsx-".concat(ArrowButton_style.__hash)+" arrow-button"},react_default.a.createElement("span",{className:"jsx-".concat(ArrowButton_style.__hash)+" arrow-icon"},"arrowForward"===iconType?ArrowButton_ref2:ArrowButton_ref3),react_default.a.createElement(style_default.a,{id:ArrowButton_style.__hash},ArrowButton_style))};ArrowButton.displayName="ArrowButton";ArrowButton.__docgenInfo={description:"",methods:[],displayName:"ArrowButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/widgets/ArrowButton.js"]={name:"ArrowButton",docgenInfo:ArrowButton.__docgenInfo,path:"src/components/ItemSelector/widgets/ArrowButton.js"});var toConsumableArray=__webpack_require__(36),toConsumableArray_default=__webpack_require__.n(toConsumableArray),toggler=(__webpack_require__(595),function(id,isCtrlPressed,isShiftPressed,index,lastClickedIndex,highlightedIds,items){var ids,newIndex=lastClickedIndex;if(isCtrlPressed||isShiftPressed)if(isShiftPressed){var minIndex=getMinIndex(lastClickedIndex,index),maxIndex=getMaxIndex(lastClickedIndex,index);ids=mergeIds(highlightedIds,items,minIndex,maxIndex)}else{var newArr=updateArray(highlightedIds,id,lastClickedIndex,index);ids=newArr.ids,newIndex=newArr.newIndex}else ids=[id],newIndex=index;return{ids:items.filter(function(item){return ids.includes(item)}),lastClickedIndex:newIndex}}),getMinIndex=function(lastClickedIndex,index){return lastClickedIndex>index?index:lastClickedIndex},getMaxIndex=function(lastClickedIndex,index){return lastClickedIndex<index?index:lastClickedIndex},mergeIds=function(highlightedIds,items,minIndex,maxIndex){return highlightedIds.length?items.slice(minIndex,maxIndex+1).filter(function(id){return!highlightedIds.includes(id)}).concat(highlightedIds):items.slice(minIndex,maxIndex+1)},updateArray=function(highlightedIds,id,lastClickedIndex,index){var ids,newIndex=lastClickedIndex,idIndex=highlightedIds.findIndex(function(highlightedId){return highlightedId===id});return 0<=idIndex?ids=highlightedIds.slice(0,idIndex).concat(highlightedIds.slice(idIndex+1)):(ids=[].concat(toConsumableArray_default()(highlightedIds),[id]),newIndex=index),{ids:ids,newIndex:newIndex}},UnselectedItems_style_defaultExport=[".unselected-list-container.jsx-2016409548{-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:auto;}",".unselected-list.jsx-2016409548{border-bottom:0px;list-style:none;margin:0px;padding-left:0px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".unselected-list-item.jsx-2016409548{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:2px;}",".select-all-button.jsx-2016409548{display:block;margin:0 auto;padding:5px;}",".select-highlighted-button.jsx-2016409548{left:426px;position:absolute;top:230px;}"];UnselectedItems_style_defaultExport.__hash="2016409548";var UnselectedItems_style=UnselectedItems_style_defaultExport,UnselectedItems_UnselectedItems=function(_Component){function UnselectedItems(props){var _this;return classCallCheck_default()(this,UnselectedItems),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(UnselectedItems).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"state",{highlighted:[],lastClickedIndex:0}),defineProperty_default()(assertThisInitialized_default()(_this),"onSelectClick",function(){_this.props.onSelect(_this.state.highlighted),_this.setState({highlighted:[]})}),defineProperty_default()(assertThisInitialized_default()(_this),"onSelectAllClick",function(){_this.props.onSelect(_this.props.items.map(function(i){return i.id})),_this.setState({highlighted:[]})}),defineProperty_default()(assertThisInitialized_default()(_this),"onDoubleClickItem",function(id){var highlighted=_this.state.highlighted.filter(function(dataDimId){return dataDimId!==id});_this.setState({highlighted:highlighted}),_this.props.onSelect([id])}),defineProperty_default()(assertThisInitialized_default()(_this),"filterTextContains",function(displayName){return displayName.toLowerCase().includes(_this.props.filterText.toLowerCase())}),defineProperty_default()(assertThisInitialized_default()(_this),"filterItems",function(item,index){return _this.filterTextContains(item.name)?_this.renderListItem(item,index):null}),defineProperty_default()(assertThisInitialized_default()(_this),"toggleHighlight",function(isCtrlPressed,isShiftPressed,index,id){var newState=toggler(id,isCtrlPressed,isShiftPressed,index,_this.state.lastClickedIndex,_this.state.highlighted,_this.props.items.map(function(item){return item.id}));_this.setState({highlighted:newState.ids,lastClickedIndex:newState.lastClickedIndex})}),defineProperty_default()(assertThisInitialized_default()(_this),"renderListItem",function(dataDim,index){return react_default.a.createElement("li",{key:dataDim.id,onDoubleClick:function onDoubleClick(){return _this.onDoubleClickItem(dataDim.id)},className:"jsx-".concat(UnselectedItems_style.__hash)+" unselected-list-item"},react_default.a.createElement(UnselectedItem,{id:dataDim.id,index:index,name:dataDim.name,highlighted:!!_this.state.highlighted.includes(dataDim.id),onClick:_this.toggleHighlight}),react_default.a.createElement(style_default.a,{id:UnselectedItems_style.__hash},UnselectedItems_style))}),defineProperty_default()(assertThisInitialized_default()(_this),"requestMoreItems",throttle_default()(function(){var node=_this.scrolElRef.current;node&&(node.scrollHeight-node.scrollTop===node.clientHeight&&_this.props.requestMoreItems())},1e3)),defineProperty_default()(assertThisInitialized_default()(_this),"render",function(){var listItems=_this.props.items.map(function(item,index){return _this.props.filterText.length?_this.filterItems(item,index):_this.renderListItem(item,index)});return react_default.a.createElement(react.Fragment,null,react_default.a.createElement("div",{ref:_this.scrolElRef,onScroll:_this.requestMoreItems,className:"jsx-".concat(UnselectedItems_style.__hash)+" unselected-list-container"},react_default.a.createElement("ul",{className:"jsx-".concat(UnselectedItems_style.__hash)+" unselected-list"},listItems)),react_default.a.createElement("div",{className:"jsx-".concat(UnselectedItems_style.__hash)+" select-all-button"},react_default.a.createElement(Button_default.a,{onClick:_this.onSelectAllClick},d2_i18n_default.a.t("Select all"))),react_default.a.createElement("div",{className:"jsx-".concat(UnselectedItems_style.__hash)+" select-highlighted-button"},react_default.a.createElement(ArrowButton,{onClick:_this.onSelectClick,iconType:"arrowForward"})),react_default.a.createElement(style_default.a,{id:UnselectedItems_style.__hash},UnselectedItems_style))}),_this.scrolElRef=react_default.a.createRef(),_this}return inherits_default()(UnselectedItems,_Component),UnselectedItems}(react.Component);UnselectedItems_UnselectedItems.propTypes={items:prop_types_default.a.arrayOf(prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired})).isRequired,onSelect:prop_types_default.a.func.isRequired,filterText:prop_types_default.a.string,requestMoreItems:prop_types_default.a.func},UnselectedItems_UnselectedItems.defaultProps={requestMoreItems:function requestMoreItems(){return null},filterText:""};var ItemSelector_UnselectedItems=UnselectedItems_UnselectedItems;UnselectedItems_UnselectedItems.__docgenInfo={description:"",methods:[{name:"onSelectClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelectAllClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onDoubleClickItem",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"filterTextContains",docblock:null,modifiers:[],params:[{name:"displayName",type:null}],returns:null},{name:"filterItems",docblock:null,modifiers:[],params:[{name:"item",type:null},{name:"index",type:null}],returns:null},{name:"toggleHighlight",docblock:null,modifiers:[],params:[{name:"isCtrlPressed",type:null},{name:"isShiftPressed",type:null},{name:"index",type:null},{name:"id",type:null}],returns:null},{name:"renderListItem",docblock:null,modifiers:[],params:[{name:"dataDim",type:null},{name:"index",type:null}],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"UnselectedItems",props:{requestMoreItems:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:""},filterText:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},items:{type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},name:{name:"string",required:!0}}}},required:!0,description:""},onSelect:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/UnselectedItems.js"]={name:"UnselectedItems",docgenInfo:UnselectedItems_UnselectedItems.__docgenInfo,path:"src/components/ItemSelector/UnselectedItems.js"});var helpers_extends=__webpack_require__(6),extends_default=__webpack_require__.n(helpers_extends),InfoOutlined=(__webpack_require__(160),__webpack_require__(333)),InfoOutlined_default=__webpack_require__.n(InfoOutlined),react_beautiful_dnd_esm=__webpack_require__(93),theme=__webpack_require__(798),Close=(__webpack_require__(740),__webpack_require__(338)),Close_default=__webpack_require__.n(Close),DeselectIconButton_style_defaultExport=[".deselect-icon-button.jsx-2598389575{background:none;border:none;height:18px;outline:none;padding:0px;width:18px;}"];DeselectIconButton_style_defaultExport.__hash="2598389575";var DeselectIconButton_style=DeselectIconButton_style_defaultExport,DeselectIconButton=function(_ref){var fill=_ref.fill,_onClick=_ref.onClick;return react_default.a.createElement("button",{onClick:function onClick(e){e.stopPropagation(),_onClick()},className:"jsx-".concat(DeselectIconButton_style.__hash)+" deselect-icon-button"},react_default.a.createElement("span",{className:"jsx-".concat(DeselectIconButton_style.__hash)},react_default.a.createElement(Close_default.a,{style:{height:"13px",width:"10px",fill:fill}})),react_default.a.createElement(style_default.a,{id:DeselectIconButton_style.__hash},DeselectIconButton_style))};DeselectIconButton.displayName="DeselectIconButton",DeselectIconButton.propTypes={fill:prop_types_default.a.string.isRequired,onClick:prop_types_default.a.func.isRequired};var widgets_DeselectIconButton=DeselectIconButton;DeselectIconButton.__docgenInfo={description:"",methods:[],displayName:"DeselectIconButton",props:{fill:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/widgets/DeselectIconButton.js"]={name:"DeselectIconButton",docgenInfo:DeselectIconButton.__docgenInfo,path:"src/components/ItemSelector/widgets/DeselectIconButton.js"});var SelectedItem_style_defaultExport=[".highlighted-text.jsx-3936984414{color:".concat(colors.white,";}"),".icon.jsx-3936984414{background-color:".concat(colors.accentSecondary,";}"),".item.jsx-3936984414{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:3px;}",".ghost.jsx-3936984414{opacity:0.2;-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;}",".selected-item.jsx-3936984414{background-color:#b2dfdb;}",".selected-item.jsx-3936984414:hover{background-color:#86c4bf;}",".highlighted-item.jsx-3936984414{background-color:".concat(colors.accentSecondaryDark,";}"),".inactive-item.jsx-3936984414{opacity:0.3;}",".item-label.jsx-3936984414{font-size:14px;padding:2px;}"];SelectedItem_style_defaultExport.__hash="3936984414";var SelectedItem_style=SelectedItem_style_defaultExport,SelectedItem_Item=function(_ref2){var _ref,id,index,onClick,name=_ref2.name,highlighted=_ref2.highlighted,ghost=_ref2.ghost,active=_ref2.active,onRemoveItem=_ref2.onRemoveItem,rest=objectWithoutProperties_default()(_ref2,["name","highlighted","ghost","active","onRemoveItem"]);return react_default.a.createElement("div",{onClick:(_ref=rest,id=_ref.id,index=_ref.index,onClick=_ref.onClick,function(event){return onClick(event.metaKey||event.ctrlKey,event.shiftKey,index,id)}),"data-test":"dimension-item-".concat(rest.id),className:"jsx-".concat(SelectedItem_style.__hash)+" "+(classnames_default()("item",{"highlighted-item":highlighted,ghost:ghost,"selected-item":!highlighted,"inactive-item":!active})||"")},react_default.a.createElement(widgets_ItemIcon,{backgroundColor:highlighted?colors.white:colors.accentSecondary}),react_default.a.createElement("span",{className:"jsx-".concat(SelectedItem_style.__hash)+" "+(classnames_default()("item-label",{"highlighted-text":highlighted})||"")},name),react_default.a.createElement(widgets_DeselectIconButton,{fill:highlighted?colors.white:colors.accentSecondary,onClick:function onClick(){return onRemoveItem(rest.id)}}),react_default.a.createElement(style_default.a,{id:SelectedItem_style.__hash},SelectedItem_style))};SelectedItem_Item.displayName="Item",SelectedItem_Item.defaultProps={active:!0,onRemoveItem:function onRemoveItem(){return null},onClick:function onClick(){return null}},SelectedItem_Item.propTypes={id:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,index:prop_types_default.a.number.isRequired,highlighted:prop_types_default.a.bool.isRequired,active:prop_types_default.a.bool,ghost:prop_types_default.a.bool,onClick:prop_types_default.a.func,onRemoveItem:prop_types_default.a.func};var SelectedItem=SelectedItem_Item;SelectedItem_Item.__docgenInfo={description:"",methods:[],displayName:"Item",props:{active:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},onRemoveItem:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:""},onClick:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},name:{type:{name:"string"},required:!0,description:""},index:{type:{name:"number"},required:!0,description:""},highlighted:{type:{name:"bool"},required:!0,description:""},ghost:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/widgets/SelectedItem.js"]={name:"Item",docgenInfo:SelectedItem_Item.__docgenInfo,path:"src/components/ItemSelector/widgets/SelectedItem.js"});__webpack_require__(106),__webpack_require__(219);var sortBy=__webpack_require__(334),sortBy_default=__webpack_require__.n(sortBy),reorderList=function(_ref){var items=_ref.items,highlightedItemIds=_ref.highlightedItemIds,destinationIndex=_ref.destinationIndex,sourceIndex=_ref.sourceIndex,draggableId=_ref.draggableId,isMultiDrag=_ref.isMultiDrag,list=Array.from(items.map(function(item){return item.id}));if(isMultiDrag){var indexedItemsToMove=sortBy_default()(highlightedItemIds.map(function(highlightedItemId){return{item:highlightedItemId,idx:items.map(function(item){return item.id}).indexOf(highlightedItemId)}}),"idx"),highlightedAboveDestination=indexedItemsToMove.filter(function(item){return item.idx<destinationIndex}),newDestinationIndex=destinationIndex-highlightedAboveDestination.length;indexedItemsToMove.forEach(function(indexed){var idx=list.indexOf(indexed.item);list.splice(idx,1)}),indexedItemsToMove.forEach(function(indexed,i){list.splice(newDestinationIndex+i,0,indexed.item)})}else list.splice(sourceIndex,1),list.splice(destinationIndex,0,draggableId);return list},SelectedItems_style_defaultExport=[".selected-list.jsx-1406043597{-webkit-flex:1;-ms-flex:1;flex:1;list-style:none;margin:0 6px;overflow-y:auto;padding-left:0px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".selected-list-item.jsx-1406043597{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:2px;}",".selected-list-item.jsx-1406043597:focus{outline:none;}",".subtitle-container.jsx-1406043597{border-bottom:1px solid ".concat(colors.greyLight,";height:42px;}"),".subtitle-text.jsx-1406043597{color:".concat(colors.black,";height:20px;font-family:Roboto;font-size:15px;font-weight:500;left:8px;position:relative;top:12px;}"),".info-container.jsx-1406043597{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:8px;padding:8px;background-color:#e8edf2;border-radius:4px;}",".info-text.jsx-1406043597{padding-left:6px;color:#4a5768;font-size:12px;line-height:17px;}",".info-icon.jsx-1406043597{font-size:16px;color:#4a5768;}",".deselect-all-button.jsx-1406043597{display:block;margin:0 auto;padding:5px;}",".deselect-highlighted-button.jsx-1406043597{left:-48px;position:absolute;top:291px;}"];SelectedItems_style_defaultExport.__hash="1406043597";var SelectedItems_style=SelectedItems_style_defaultExport,Subtitle=function(){return react_default.a.createElement("div",{className:"jsx-".concat(SelectedItems_style.__hash)+" subtitle-container"},react_default.a.createElement("span",{className:"jsx-".concat(SelectedItems_style.__hash)+" subtitle-text"},d2_i18n_default.a.t("Selected Data")),react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))};Subtitle.displayName="Subtitle";var InfoBox=function(_ref){var message=_ref.message;return react_default.a.createElement("div",{className:"jsx-".concat(SelectedItems_style.__hash)+" info-container"},react_default.a.createElement(InfoOutlined_default.a,{style:{fontSize:16,color:theme.a.grey600}}),react_default.a.createElement("span",{className:"jsx-".concat(SelectedItems_style.__hash)+" info-text"},message),react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))};InfoBox.displayName="InfoBox";var ItemsList=function(_ref2){var innerRef=_ref2.innerRef,children=_ref2.children;return react_default.a.createElement("ul",{ref:innerRef,className:"jsx-".concat(SelectedItems_style.__hash)+" selected-list"},children,react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))};ItemsList.displayName="ItemsList";var CLONE_INDEX=9999,_ref6=react_default.a.createElement(Subtitle,null),SelectedItems_SelectedItems=function(_Component){function SelectedItems(){var _getPrototypeOf2,_this;classCallCheck_default()(this,SelectedItems);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(SelectedItems)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{highlighted:[],lastClickedIndex:0,draggingId:null}),defineProperty_default()(assertThisInitialized_default()(_this),"onDeselectHighlighted",function(){_this.props.onDeselect(_this.state.highlighted),_this.setState({highlighted:[]})}),defineProperty_default()(assertThisInitialized_default()(_this),"onDeselectOne",function(id){var highlighted=_this.state.highlighted.filter(function(highlightedId){return highlightedId!==id});_this.props.onDeselect([id]),_this.setState({highlighted:highlighted})}),defineProperty_default()(assertThisInitialized_default()(_this),"onDeselectAll",function(){_this.props.onDeselect(_this.props.items.map(function(item){return item.id})),_this.setState({highlighted:[]})}),defineProperty_default()(assertThisInitialized_default()(_this),"toggleHighlight",function(isCtrlPressed,isShiftPressed,index,id){var newState=toggler(id,isCtrlPressed,isShiftPressed,index,_this.state.lastClickedIndex,_this.state.highlighted,_this.props.items.map(function(item){return item.id}));_this.setState({highlighted:newState.ids,lastClickedIndex:newState.lastClickedIndex})}),defineProperty_default()(assertThisInitialized_default()(_this),"isMultiDrag",function(draggableId){return _this.state.highlighted.includes(draggableId)&&1<_this.state.highlighted.length}),defineProperty_default()(assertThisInitialized_default()(_this),"onDragStart",function(start){var id=start.draggableId;_this.state.highlighted.find(function(itemId){return itemId===id})||_this.setState({highlighted:[]}),_this.setState({draggingId:start.draggableId})}),defineProperty_default()(assertThisInitialized_default()(_this),"onDragEnd",function(_ref3){var destination=_ref3.destination,source=_ref3.source,draggableId=_ref3.draggableId;if(_this.setState({draggingId:null}),null!==destination&&(destination.draggableId!==source.draggableId||destination.index!==source.index)){var newList=reorderList({destinationIndex:destination.index,sourceIndex:source.index,draggableId:draggableId,isMultiDrag:_this.isMultiDrag(draggableId),items:_this.props.items,highlightedItemIds:_this.state.highlighted});_this.props.onReorder(newList)}}),defineProperty_default()(assertThisInitialized_default()(_this),"renderListItem",function(_ref4,index){var id=_ref4.id,name=_ref4.name,isActive=_ref4.isActive;return react_default.a.createElement(react_beautiful_dnd_esm.b,{draggableId:id,index:index,key:id},function(provided,snapshot){var isDraggedItem=snapshot.isDragging&&1<_this.state.highlighted.length&&_this.state.highlighted.includes(_this.state.draggingId),ghost=_this.state.highlighted.includes(id)&&!!_this.state.draggingId&&_this.state.draggingId!==id,itemText=isDraggedItem?"".concat(_this.state.highlighted.length," items"):name;return react_default.a.createElement("li",extends_default()({id:id,onDoubleClick:function onDoubleClick(){return _this.onDeselectOne(id)}},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,className:"jsx-".concat(SelectedItems_style.__hash)+" "+(null!=provided.dragHandleProps.className&&provided.dragHandleProps.className||null!=provided.draggableProps.className&&provided.draggableProps.className||"selected-list-item")}),react_default.a.createElement(SelectedItem,{id:id,index:index,name:itemText,highlighted:!!_this.state.highlighted.includes(id),active:isActive,onRemoveItem:_this.onDeselectOne,onClick:_this.toggleHighlight,ghost:ghost}),react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))})}),defineProperty_default()(assertThisInitialized_default()(_this),"renderCloneItem",function(_ref5,index){var id=_ref5.id,name=_ref5.name,cloneId="".concat(id,"-clone");return react_default.a.createElement(react_beautiful_dnd_esm.b,{draggableId:cloneId,index:index,key:cloneId},function(provided){return react_default.a.createElement("li",extends_default()({id:cloneId},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,className:"jsx-".concat(SelectedItems_style.__hash)+" "+(null!=provided.dragHandleProps.className&&provided.dragHandleProps.className||null!=provided.draggableProps.className&&provided.draggableProps.className||"selected-list-item")}),react_default.a.createElement(SelectedItem,{id:cloneId,index:CLONE_INDEX,name:name,highlighted:!!_this.state.highlighted.includes(id),selected:!0,ghost:!0}),react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))})}),defineProperty_default()(assertThisInitialized_default()(_this),"getItemListWithClone",function(){var list=[];return _this.props.items.forEach(function(item){list.push(item),_this.isMultiDrag(_this.state.draggingId)&&_this.state.draggingId===item.id&&list.push({id:item.id,name:item.name,isActive:item.isActive,clone:!0})}),list}),defineProperty_default()(assertThisInitialized_default()(_this),"render",function(){var itemList=_this.getItemListWithClone().map(function(item,i){return item.clone?_this.renderCloneItem(item,i):_this.renderListItem(item,i)});return react_default.a.createElement(react.Fragment,null,_ref6,_this.props.infoBoxMessage?react_default.a.createElement(InfoBox,{message:_this.props.infoBoxMessage}):null,react_default.a.createElement(react_beautiful_dnd_esm.a,{onDragStart:_this.onDragStart,onDragEnd:_this.onDragEnd},react_default.a.createElement(react_beautiful_dnd_esm.c,{droppableId:"selected-items-droppable"},function(provided){return react_default.a.createElement(ItemsList,extends_default()({innerRef:provided.innerRef},provided.droppableProps),itemList,provided.placeholder)})),react_default.a.createElement("div",{className:"jsx-".concat(SelectedItems_style.__hash)+" deselect-all-button"},react_default.a.createElement(Button_default.a,{onClick:_this.onDeselectAll},d2_i18n_default.a.t("Deselect All"))),react_default.a.createElement("div",{className:"jsx-".concat(SelectedItems_style.__hash)+" deselect-highlighted-button"},react_default.a.createElement(ArrowButton,{onClick:_this.onDeselectHighlighted,iconType:"arrowBack"})),react_default.a.createElement(style_default.a,{id:SelectedItems_style.__hash},SelectedItems_style))}),_this}return inherits_default()(SelectedItems,_Component),SelectedItems}(react.Component);SelectedItems_SelectedItems.propTypes={items:prop_types_default.a.array.isRequired,onDeselect:prop_types_default.a.func.isRequired,onReorder:prop_types_default.a.func.isRequired,infoBoxMessage:prop_types_default.a.string};var ItemSelector_SelectedItems=SelectedItems_SelectedItems;SelectedItems_SelectedItems.__docgenInfo={description:"",methods:[{name:"onDeselectHighlighted",docblock:null,modifiers:[],params:[],returns:null},{name:"onDeselectOne",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onDeselectAll",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleHighlight",docblock:null,modifiers:[],params:[{name:"isCtrlPressed",type:null},{name:"isShiftPressed",type:null},{name:"index",type:null},{name:"id",type:null}],returns:null},{name:"isMultiDrag",docblock:null,modifiers:[],params:[{name:"draggableId",type:null}],returns:null},{name:"onDragStart",docblock:null,modifiers:[],params:[{name:"start",type:null}],returns:null},{name:"onDragEnd",docblock:null,modifiers:[],params:[{name:"{ destination, source, draggableId }",type:null}],returns:null},{name:"renderListItem",docblock:null,modifiers:[],params:[{name:"{ id, name, isActive }",type:null},{name:"index",type:null}],returns:null},{name:"renderCloneItem",docblock:null,modifiers:[],params:[{name:"{ id, name }",type:null},{name:"index",type:null}],returns:null},{name:"getItemListWithClone",docblock:null,modifiers:[],params:[],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SelectedItems",props:{items:{type:{name:"array"},required:!0,description:""},onDeselect:{type:{name:"func"},required:!0,description:""},onReorder:{type:{name:"func"},required:!0,description:""},infoBoxMessage:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/SelectedItems.js"]={name:"SelectedItems",docgenInfo:SelectedItems_SelectedItems.__docgenInfo,path:"src/components/ItemSelector/SelectedItems.js"});var ItemSelector_style_defaultExport=[".item-selector-container.jsx-3712983878{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;font-family:Roboto,sans-serif;}",".section.jsx-3712983878{border:1px solid ".concat(colors.greyLight,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:510px;position:relative;}"),".unselected.jsx-3712983878{margin-right:55px;width:418px;}",".selected.jsx-3712983878{width:276px;}"];ItemSelector_style_defaultExport.__hash="3712983878";var ItemSelector_style=ItemSelector_style_defaultExport,ItemSelector_ItemSelector=function(_Component){function ItemSelector(){return classCallCheck_default()(this,ItemSelector),possibleConstructorReturn_default()(this,getPrototypeOf_default()(ItemSelector).apply(this,arguments))}return inherits_default()(ItemSelector,_Component),createClass_default()(ItemSelector,[{key:"render",value:function render(){var _this$props=this.props,unselected=_this$props.unselected,selected=_this$props.selected,filterZone=_this$props.children;return react_default.a.createElement("div",{className:"jsx-".concat(ItemSelector_style.__hash)+" item-selector-container"},react_default.a.createElement("div",{className:"jsx-".concat(ItemSelector_style.__hash)+" "+(classnames_default()("section","unselected")||"")},filterZone,react_default.a.createElement(ItemSelector_UnselectedItems,unselected)),react_default.a.createElement("div",{className:"jsx-".concat(ItemSelector_style.__hash)+" "+(classnames_default()("section","selected")||"")},react_default.a.createElement(ItemSelector_SelectedItems,selected)),react_default.a.createElement(style_default.a,{id:ItemSelector_style.__hash},ItemSelector_style))}}]),ItemSelector}(react.Component);ItemSelector_ItemSelector.displayName="ItemSelector",ItemSelector_ItemSelector.propTypes={unselected:prop_types_default.a.shape({items:prop_types_default.a.arrayOf(prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired})).isRequired,onSelect:prop_types_default.a.func.isRequired,filterText:prop_types_default.a.string,requestMoreItems:prop_types_default.a.func}),selected:prop_types_default.a.shape({items:prop_types_default.a.arrayOf(prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,name:prop_types_default.a.string.isRequired,isActive:prop_types_default.a.bool})).isRequired,dialogId:prop_types_default.a.string,infoBoxMessage:prop_types_default.a.string,onDeselect:prop_types_default.a.func.isRequired,onReorder:prop_types_default.a.func.isRequired})};__webpack_exports__.a=ItemSelector_ItemSelector;ItemSelector_ItemSelector.__docgenInfo={description:"",methods:[],displayName:"ItemSelector",props:{unselected:{type:{name:"shape",value:{items:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},name:{name:"string",required:!0}}},required:!0},onSelect:{name:"func",required:!0},filterText:{name:"string",required:!1},requestMoreItems:{name:"func",required:!1}}},required:!1,description:""},selected:{type:{name:"shape",value:{items:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},name:{name:"string",required:!0},isActive:{name:"bool",required:!1}}},required:!0},dialogId:{name:"string",required:!1},infoBoxMessage:{name:"string",required:!1},onDeselect:{name:"func",required:!0},onReorder:{name:"func",required:!0}}},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemSelector/ItemSelector.js"]={name:"ItemSelector",docgenInfo:ItemSelector_ItemSelector.__docgenInfo,path:"src/components/ItemSelector/ItemSelector.js"})},742:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47),_src_components_PeriodSelector_PeriodSelector__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(345),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_PeriodSelector_PeriodSelector__WEBPACK_IMPORTED_MODULE_2__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("PeriodSelector",module).add("default",function(){return _ref})}.call(this,__webpack_require__(105)(module))}},[[346,1,2]]]);
//# sourceMappingURL=main.2a408fa156e81243f655.bundle.js.map